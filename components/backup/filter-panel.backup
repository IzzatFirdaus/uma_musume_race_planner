<!-- components/filter-panel.php -->
<form id="filterForm" class="mb-4" role="search" aria-label="Filter Plans">
  <div class="row g-2">
    <div class="col-12 col-md-4 col-lg-2">
      <label for="keyword" class="form-label">Name or Race</label>
      <input type="text" class="form-control" id="keyword" name="keyword" placeholder="e.g. Haru Urara" aria-label="Keyword">
    </div>

    <div class="col-6 col-md-4 col-lg-2">
      <label for="career_stage" class="form-label">Career Stage</label>
      <select class="form-select" id="career_stage" name="career_stage" aria-label="Career Stage">
        <option value="">All</option>
        <option value="predebut">Pre-Debut</option>
        <option value="junior">Junior Year</option>
        <option value="classic">Classic Year</option>
        <option value="senior">Senior Year</option>
        <option value="finale">Finale Season</option>
      </select>
    </div>

    <div class="col-6 col-md-4 col-lg-2">
      <label for="class" class="form-label">Class</label>
      <select class="form-select" id="class" name="class" aria-label="Class">
        <option value="">All</option>
        <option value="debut">Debut</option>
        <option value="maiden">Maiden</option>
        <option value="beginner">Beginner</option>
        <option value="bronze">Bronze</option>
        <option value="silver">Silver</option>
        <option value="gold">Gold</option>
        <option value="platinum">Platinum</option>
        <option value="star">Star</option>
        <option value="legend">Legend</option>
      </select>
    </div>

    <div class="col-6 col-md-4 col-lg-2">
      <label for="strategy" class="form-label">Strategy</label>
      <select class="form-select" id="strategy" name="strategy_id" aria-label="Strategy">
        <option value="">All</option>
        <?php
        $strategies = $pdo->query("SELECT id, label FROM strategies ORDER BY label ASC")->fetchAll();
        foreach ($strategies as $s) {
            echo "<option value=\"{$s['id']}\">{$s['label']}</option>";
        }
        ?>
      </select>
    </div>

    <div class="col-6 col-md-4 col-lg-2">
      <label for="status" class="form-label">Status</label>
      <select class="form-select" id="status" name="status" aria-label="Plan Status">
        <option value="">All</option>
        <option value="Planning">Planning</option>
        <option value="Active">Active</option>
        <option value="Finished">Finished</option>
        <option value="Draft">Draft</option>
        <option value="Abandoned">Abandoned</option>
      </select>
    </div>

    <div class="col-6 col-md-4 col-lg-2">
      <label for="month" class="form-label">Month</label>
      <select class="form-select" id="month" name="month" aria-label="Month">
        <option value="">All</option>
        <?php foreach (range(1, 12) as $m): ?>
          <option value="<?= $m ?>"><?= date('F', mktime(0, 0, 0, $m)) ?></option>
        <?php endforeach; ?>
      </select>
    </div>

    <div class="col-6 col-md-4 col-lg-2">
      <label for="mood" class="form-label">Mood</label>
      <select class="form-select" id="mood" name="mood_id" aria-label="Mood">
        <option value="">All</option>
        <?php
        $moods = $pdo->query("SELECT id, label FROM moods ORDER BY FIELD(label, 'GREAT','GOOD','NORMAL','BAD','AWFUL')")->fetchAll();
        foreach ($moods as $m) {
            echo "<option value=\"{$m['id']}\">{$m['label']}</option>";
        }
        ?>
      </select>
    </div>

    <div class="col-12 d-flex gap-2 justify-content-end">
      <button type="submit" class="btn btn-uma">
        <i class="bi bi-search me-1"></i> Search
      </button>
      <button type="button" class="btn btn-outline-secondary" id="resetFiltersBtn">
        <i class="bi bi-x-circle me-1"></i> Reset
      </button>
    </div>
  </div>
</form>
